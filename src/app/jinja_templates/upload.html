<!doctype html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Asymptomatic COVID prediction with ML/AI </title>
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <link href="/static/css/bootstrap-grid.css" rel="stylesheet">
    <link href="/static/css/bootstrap-theme.css" rel="stylesheet">
    <link href="/static/css/main.css" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicon-16x16.png">
    <link rel="manifest" href="/static/img/site.webmanifest">
    <link rel="mask-icon" href="/static/img/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <script src="/static/js/record-live-audio.js"></script>
    <script src="/static/js/app_1.js"></script>
    <script type="text/javascript" src="/static/js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="/static/js/popper.min.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap.bundle.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap.js"></script>
    <script type="text/javascript" src="/static/js/main.js"></script>
    <script src="https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js"></script>

</head>
<body class="container-fluid">
<main role="main" class="text-center">
    <div id="particles-js" class="background"></div>
    <section class="jumbotron text-center">
        <div class="container">
            <h1 class="jumbotron-heading">Virufy Cloud for Asymptomatic COVID-19 Detection</h1>
            <p class="lead text-muted"> Detection of early-stage, asymptomatic coronavirus </p>
        </div>
    </section>

    <section class="text-left">
        <div class="container dashed" id='dvUpload'>
            <div class="upload-container">
                <form id="frmUpload" action="/coughsound" method="post" enctype="multipart/form-data">
                    <div class="row m-lg-3">
                        <input id="flUpload" class="btn full-width" type="file" name="audio"/>
                    </div>
                    <div class="row m-lg-3">
                        <button id="btnUpload" class="btn btn-outline-primary" type="button">
                            <span id="spnStatus" class="invisible spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                            Process
                        </button>
                    </div>
                </form>
                <div id='counter'></div>
                <div id="dvMessage" class="row alert">{{ message }}</div>
                <div id="dvLoader" class="text-center"></div>
            </div>
        </div>
    </section>


    <!--- 
    <section class="text-left">
        <div id="controls">
            <button id="recordButton">Record</button>
            <button id="pauseButton" disabled>Pause</button>
            <button id="stopButton" disabled>Stop</button>
        </div>
        <div id="formats">Format: start recording to see sample rate</div>
        <p><strong>Recordings:</strong></p>
        <ol id="recordingsList"></ol> -->
        <!-- inserting these scripts at the end to be able to use all the elements in the DOM -->
        <!--
        <script src="https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js"></script>
        <script src="/static/js/app.js"></script>
    </section>
            -->


    <section class="jumbotron text-center">
        <div class="container-dashed">

             <section class="text-left">
                 <section class=justify-center-l>
                      <h3 class="jumbotron-heading"> Instructions on how to use this webpage: </h3>
                <h5> 1. Please record your cough and convert to a .wav file if needed.  </h5>
                <h5> 2. The cough should ideally last between 2-4 seconds. </h5>
                <h5> 3. Upload the .wav file to the web page. </h5>
                <h5> 4. Please ensure cough  recoding is done in a relatively quiet environment with little background noise. </h5>
                <h5> 5. Click process on the webpage. </h5>
                <h5> The webpage takes the cough sound and parses the mel-frequency and spectogram through our inference engine.</h5>
                <h5> The model outputs a score that is the probability of that user having COVID-19 </h5>

                 </section>
             </section>
        </div>
    </section>


</main>


<script type="text/javascript">
    handleUpload();
</script>
</body>
</html>